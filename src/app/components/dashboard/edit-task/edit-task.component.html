<div class="edittaskheading">
    <!-- <h1><b>Edit Task</b></h1> -->
    
<!DOCTYPE html>
</div>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"> 
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"> -->
  </head>
  <body>
<form class="row g-3" (ngSubmit)="submitTheForm()">
  <div class="col-12">
    <button type="submit" class="btn btn-primary" id="submitbutton">Update</button>
  </div>

    <div class="col-md-6" >
      <label for="inputtitle" class="form-label">Title</label>
      <input type="text" class="form-control" id="inputtitle"  placeholder="Title of task"  name="title"   [(ngModel)]="data.title">
    </div>
    <div class="col-md-6">
      <label for="inputproject" class="form-label">Project</label>
      <select id="inputproject" class="form-select" name="project" [(ngModel)]="data.projectId">
        <option value="">Select</option>
      <option  *ngFor="let item of projects" [value]="item.id">{{item.projectName}}</option>
      </select>
    </div>
    <div class="col-md-6">
      <label for="inputdescription" class="form-label">Description</label>
      <input type="text" class="form-control" id="inputdescription" placeholder="Task Description" name="description" [(ngModel)]="data.description">
    </div>
    <div class="col-md-6">
        <label for="inputtaskcategory" class="form-label">Task Category</label>
        <select id="inputtaskcategory"   name="taskcategory" class="form-select" name="category" [(ngModel)]="data.taskCategoryId">
          <option value="">Select</option>
          <option  *ngFor="let item of categories" [value]="item.id">{{item.taskCategory}}</option>
        </select>
    </div>
    <!-- <div class="col-md-6">
        <label for="inputsdate" class="form-label">Start date</label>
        <input type="date" class="form-control" id="inputsdate">
      </div> -->

      <div class="col-md-6">
        <label for="inputddate" class="form-label">Due date</label>
        <input type="date" class="form-control" id="inputddate"  name="duedate" [(ngModel)]="data.dueDate">
      </div>

    
    <div class="col-md-6">
        <label for="inputassignedto" class="form-label">Assigned to</label>
        <select id="inputassignedto" class="form-select" name="assignedToId" [(ngModel)]="data.assignedToId">
          <option value="">Select</option>
        <option  *ngFor="let item of allusers" [value]="item.id">{{item.username}}</option>
        </select>
    </div>
    <div class="col-md-4">
      <label for="inputStatus" class="form-label">Status</label>
      <select id="inputStatus" class="form-select" name="taskstatus" [(ngModel)]="data.statusId">
        <option value="">Select</option>
        <option  *ngFor="let item of allstatus" [value]="item.id">{{item.taskStatus}}</option>
      </select>
    </div>   

  <form class="ourcomments classcommentbox" (ngSubmit)= "submitCommentForm()" method="post">
    <div class="container mt-5">
      <div class="d-flex justify-content-center row">
          <div class="col-md-8">
              <div class="d-flex flex-column comment-section">
                <div class="bg-white">
                  <!-- <h3>Comment</h3> -->
                </div>
                <div class="bg-light p-2">
                    <div class="d-flex flex-row align-items-start"><textarea class="form-control ml-1 shadow-none textarea" placeholder="Add your comment here" [(ngModel)]="commentData.comments" name="textarea" type="comments"></textarea></div>
                    
                    <br>
    
                  <div class="buttons">
                    <button type="submit" mat-raised-button color="primary"  type="submit" id="comment-button">Post</button>
                    <a routerLink = "/home/task" id="cancel-button" button mat-raised-button color="primary">Cancel</a>
                  </div>
                  <div class="bg-white p-2" *ngFor="let item of commentedUsers">
                      <div class="d-flex flex-row user-info">
                          <div class="d-flex flex-column justify-content-start ml-2"><span class="d-block font-weight-bold name">{{item.commentedBy.username}}</span>
                            <span class="date text-black-50">{{item.createdOn}}</span></div>
                      </div>
                      <div class="mt-2">
                          <p class="comment-text">{{item.comments}}</p>
                      </div>
                  </div>
                
                  </div>
              </div>
          </div>
      </div>
  </div>
  </form>
  
  </form>
  </body>
</html> 